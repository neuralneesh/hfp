name: cardio_cardiac_cycle
description: Cardiac cycle phases - systole, diastole, and transitions
nodes:
  # Main phases
  - id: cardio.cycle.diastole
    label: Diastole
    domain: cardio
    subdomain: cycle
    type: process
    state_type: qualitative
    description: "The relaxation phase of the cardiac cycle when ventricles fill with blood."

  - id: cardio.cycle.systole
    label: Systole
    domain: cardio
    subdomain: cycle
    type: process
    state_type: qualitative
    description: "The contraction phase of the cardiac cycle when blood is ejected."

  # Filling and ejection
  - id: cardio.cycle.ventricular_filling
    label: Ventricular Filling
    domain: cardio
    subdomain: cycle
    type: process
    state_type: qualitative
    description: "Blood flow from atria into ventricles during diastole."

  - id: cardio.cycle.ventricular_ejection
    label: Ventricular Ejection
    domain: cardio
    subdomain: cycle
    type: process
    state_type: qualitative
    description: "Blood ejection from ventricles into aorta/pulmonary artery during systole."

  # Volume/pressure states
  - id: cardio.cycle.end_systolic_volume
    label: End-Systolic Volume (ESV)
    domain: cardio
    subdomain: cycle
    type: variable
    state_type: qualitative
    description: "Volume of blood remaining in ventricle after systole."

  - id: cardio.cycle.end_diastolic_volume
    label: End-Diastolic Volume (EDV)
    domain: cardio
    subdomain: cycle
    type: variable
    state_type: qualitative
    description: "Volume of blood in ventricle at end of diastole."

  - id: cardio.cycle.atrial_stretch
    label: Atrial Stretch
    domain: cardio
    subdomain: cycle
    type: process
    state_type: qualitative
    description: "Mechanical stretch of atrial myocardium due to venous return and effective circulating volume."

edges:
  # Phase sequence
  - source: cardio.cycle.diastole
    target: cardio.cycle.ventricular_filling
    rel: enables
    weight: 1.0
    description: "Diastole allows ventricular filling to occur."

  - source: cardio.cycle.ventricular_filling
    target: cardio.cycle.systole
    rel: precedes
    weight: 1.0
    description: "Filling transitions into systole."

  - source: cardio.cycle.systole
    target: cardio.cycle.ventricular_ejection
    rel: enables
    weight: 1.0
    description: "Systole drives ventricular ejection."

  - source: cardio.cycle.ventricular_ejection
    target: cardio.cycle.diastole
    rel: precedes
    weight: 1.0
    description: "Ejection transitions into diastole - cycle continues."

  # Complete cycle loop
  - source: cardio.cycle.ventricular_filling
    target: cardio.cycle.diastole
    rel: part_of
    weight: 1.0

  - source: cardio.cycle.ventricular_ejection
    target: cardio.cycle.systole
    rel: part_of
    weight: 1.0

  # Volume relationships
  - source: cardio.cycle.ventricular_filling
    target: cardio.cycle.end_diastolic_volume
    rel: increases
    weight: 1.0
    description: "Filling increases end-diastolic volume."

  - source: cardio.cycle.ventricular_ejection
    target: cardio.cycle.end_systolic_volume
    rel: decreases
    weight: 1.0
    description: "Ejection decreases end-systolic volume."

  # Link to hemodynamics
  - source: cardio.cycle.end_diastolic_volume
    target: cardio.hemodynamics.stroke_volume
    rel: increases
    weight: 0.9
    description: "EDV determines stroke volume (Frank-Starling)."

  - source: renal.volume.preload
    target: cardio.cycle.atrial_stretch
    rel: increases
    weight: 1.0
    description: "Higher venous return/preload increases atrial wall stretch."

  - source: renal.volume.ecf_volume
    target: cardio.cycle.atrial_stretch
    rel: increases
    weight: 0.9
    delay: hours
    description: "Effective circulating volume expansion raises atrial stretch over time."

  - source: cardio.cycle.end_diastolic_volume
    target: cardio.cycle.atrial_stretch
    rel: increases
    weight: 0.4
    description: "EDV contributes to chamber stretch but is not the primary ANP trigger."

  - source: cardio.cycle.end_systolic_volume
    target: cardio.hemodynamics.stroke_volume
    rel: decreases
    weight: 0.9
    description: "Lower ESV means more blood ejected."

  # Heart rate effects
  - source: cardio.hemodynamics.heart_rate
    target: cardio.cycle.diastole
    rel: decreases
    weight: 0.9
    description: "Tachycardia shortens diastole more than systole."

  - source: cardio.hemodynamics.heart_rate
    target: cardio.cycle.ventricular_filling
    rel: decreases
    weight: 0.8
    description: "High HR reduces filling time."

  # Sympathetic effects
  - source: neuro.ans.sympathetic_tone
    target: cardio.cycle.systole
    rel: increases
    weight: 0.8
    description: "Sympathetic increases contractility, shortening systole."

  - source: neuro.ans.sympathetic_tone
    target: cardio.cycle.diastole
    rel: decreases
    weight: 0.7
    description: "Sympathetic speeds up the cycle."

  # Parasympathetic effects
  - source: neuro.ans.parasympathetic_tone
    target: cardio.cycle.diastole
    rel: increases
    weight: 0.8
    description: "Vagal tone prolongs diastole and filling."
